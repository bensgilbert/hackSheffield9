import{o as tt,_ as at,b as et}from"../chunks/preload-helper.DL3Oyumf.js";import{t as z,a as S}from"../chunks/disclose-version.BREFLA4z.js";import{C as D,as as rt,a8 as it,n as M,a5 as K,a6 as W,a7 as st,at as ot,F as nt,au as lt,av as dt,ao as pt,b as ct,p as vt,aw as L,q as I,g as T,i as ft,s as k,j as $,t as G,k as ut,l as b,a4 as _t}from"../chunks/runtime.Ct9RiEw0.js";import{a as gt,s as J}from"../chunks/render.DUobxxAF.js";import{p as N,i as Y}from"../chunks/if.Dtie_2im.js";import{s as ht,e as U,i as j,b as mt,r as bt}from"../chunks/map.OXyISxBQ.js";import{d as yt}from"../chunks/events.DKTRiInL.js";import"../chunks/entry.CGzROe4q.js";const wt=()=>performance.now(),q={tick:a=>requestAnimationFrame(a),now:()=>wt(),tasks:new Set};function Q(a){q.tasks.forEach(t=>{t.c(a)||(q.tasks.delete(t),t.f())}),q.tasks.size!==0&&q.tick(Q)}function xt(a){let t;return q.tasks.size===0&&q.tick(Q),{promise:new Promise(r=>{q.tasks.add(t={c:a,f:r})}),abort(){q.tasks.delete(t)}}}function R(a,t){a.dispatchEvent(new CustomEvent(t))}function $t(a){if(a==="float")return"cssFloat";if(a==="offset")return"cssOffset";if(a.startsWith("--"))return a;const t=a.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function V(a){const t={},r=a.split(";");for(const i of r){const[c,d]=i.split(":");if(!c||d===void 0)break;const v=$t(c.trim());t[v]=d.trim()}return t}const kt=a=>a;function Z(a,t,r,i){var c=(a&ot)!==0,d="both",v,h=t.inert,p,o;function s(){var n=st,u=D;K(null),W(null);try{return v??(v=r()(t,(i==null?void 0:i())??{},{direction:d}))}finally{K(n),W(u)}}var y={is_global:c,in(){t.inert=h,R(t,"introstart"),p=B(t,s(),o,1,()=>{R(t,"introend"),p==null||p.abort(),p=v=void 0})},out(n){t.inert=!0,R(t,"outrostart"),o=B(t,s(),p,0,()=>{R(t,"outroend"),n==null||n()})},stop:()=>{p==null||p.abort(),o==null||o.abort()}},w=D;if((w.transitions??(w.transitions=[])).push(y),gt){var x=c;if(!x){for(var f=w.parent;f&&f.f&nt;)for(;(f=f.parent)&&!(f.f&lt););x=!f||(f.f&dt)!==0}x&&pt(()=>{ct(()=>y.in())})}}function B(a,t,r,i,c){var d=i===1;if(rt(t)){var v,h=!1;return it(()=>{if(!h){var u=t({direction:d?"in":"out"});v=B(a,u,r,i,c)}}),{abort:()=>{h=!0,v==null||v.abort()},deactivate:()=>v.deactivate(),reset:()=>v.reset(),t:()=>v.t()}}if(r==null||r.deactivate(),!(t!=null&&t.duration))return c(),{abort:M,deactivate:M,reset:M,t:()=>i};const{delay:p=0,css:o,tick:s,easing:y=kt}=t;var w=[];if(d&&r===void 0&&(s&&s(0,1),o)){var x=V(o(0,1));w.push(x,x)}var f=()=>1-i,n=a.animate(w,{duration:p});return n.onfinish=()=>{var u=(r==null?void 0:r.t())??1-i;r==null||r.abort();var e=i-u,g=t.duration*Math.abs(e),F=[];if(g>0){if(o)for(var m=Math.ceil(g/16.666666666666668),_=0;_<=m;_+=1){var l=u+e*y(_/m),O=o(l,1-l);F.push(V(O))}f=()=>{var C=n.currentTime;return u+e*y(C/g)},s&&xt(()=>{if(n.playState!=="running")return!1;var C=f();return s(C,1-C),!0})}n=a.animate(F,{duration:g,fill:"forwards"}),n.onfinish=()=>{f=()=>i,s==null||s(i,1-i),c()}},{abort:()=>{n&&(n.cancel(),n.effect=null,n.onfinish=M)},deactivate:()=>{c=M},reset:()=>{i===0&&(s==null||s(1,0))},t:()=>f()}}function Tt(a){const t=a-1;return t*t*t+1}function H(a,{delay:t=0,duration:r=400,easing:i=Tt,axis:c="y"}={}){const d=getComputedStyle(a),v=+d.opacity,h=c==="y"?"height":"width",p=parseFloat(d[h]),o=c==="y"?["top","bottom"]:["left","right"],s=o.map(e=>`${e[0].toUpperCase()}${e.slice(1)}`),y=parseFloat(d[`padding${s[0]}`]),w=parseFloat(d[`padding${s[1]}`]),x=parseFloat(d[`margin${s[0]}`]),f=parseFloat(d[`margin${s[1]}`]),n=parseFloat(d[`border${s[0]}Width`]),u=parseFloat(d[`border${s[1]}Width`]);return{delay:t,duration:r,easing:i,css:e=>`overflow: hidden;opacity: ${Math.min(e*20,1)*v};${h}: ${e*p}px;padding-${o[0]}: ${e*y}px;padding-${o[1]}: ${e*w}px;margin-${o[0]}: ${e*x}px;margin-${o[1]}: ${e*f}px;border-${o[0]}-width: ${e*n}px;border-${o[1]}-width: ${e*u}px;`}}var Ft=z("<li> </li>"),Et=z('<div class="h-full w-80 space-y-8 text-nowrap bg-white p-4 shadow"><div class="space-y-2 leading-none"><h1 class="text-xl font-bold">Order #1234</h1> <div class="space-y-2 rounded bg-black/20 p-3 leading-none"><div class="space-y-1"><p>Start:</p> <p>End:</p></div> <ul class="mt-2 list-inside list-disc space-y-1 pl-2 leading-none"></ul></div> <button class="rounded bg-blue-700 p-4 text-white">Accept Order</button></div></div>'),Ot=z('<div class="space-y-1 rounded bg-blue-700 p-3 leading-none text-white"><p>Orderer:</p> <p>Start:</p> <p>End:</p></div>'),Ct=z('<p class="text-center font-bold m-3">You have no orders to fufil, <br> accept one from below</p>'),St=z('<div class="space-y-1 rounded bg-black/20 p-3"><p>Orderer:</p> <p>Start:</p> <p>End:</p></div>'),qt=z('<p class="text-center font-bold">No orders nearby</p>'),zt=z('<div class="h-full w-80 space-y-8 overflow-y-auto text-nowrap bg-white p-4 shadow"><div class="space-y-2 leading-none"><h1 class="text-xl font-bold">My Orders</h1> <!></div> <div class="space-y-3 leading-none"><h1 class="text-xl font-bold">Suggested Orders</h1> <div><input class="w-full" type="range" min="1" max="50"> <p> </p></div> <!></div></div>'),At=(a,t)=>{I(t,!T(t))},Mt=z('<div class="size-full"></div> <div class="absolute inset-y-0 left-0"><!></div> <div class="absolute inset-y-0 right-0"><!> <button class="absolute left-0 top-4 -translate-x-full rounded-l bg-blue-700 p-2 text-white"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="M4 18q-.425 0-.712-.288T3 17t.288-.712T4 16h16q.425 0 .713.288T21 17t-.288.713T20 18zm0-5q-.425 0-.712-.288T3 12t.288-.712T4 11h16q.425 0 .713.288T21 12t-.288.713T20 13zm0-5q-.425 0-.712-.288T3 7t.288-.712T4 6h16q.425 0 .713.288T21 7t-.288.713T20 8z"></path></svg></button></div>',1);function Dt(a,t){vt(t,!0);let r,i,c=L(10),d=!1,v=L(!1),h=L(N([])),p=L(N([]));tt(async()=>{const u=await at(()=>import("../chunks/index.B1X_Juiv.js"),[],import.meta.url),{Loader:e}=u,g=new e({apiKey:"AIzaSyDB8EtJ3vK8gwJgTgjeNyvDLkUOYnal1GM",libraries:["maps","marker"]}),{Map:F}=await g.importLibrary("maps"),{Marker:m}=await g.importLibrary("marker");i=new F(r,{center:{lat:0,lng:0},disableDefaultUI:!0,styles:ht,zoom:1}),navigator.geolocation&&navigator.geolocation.getCurrentPosition(({coords:{latitude:_,longitude:l}})=>{i.setCenter({lat:_,lng:l}),i.setZoom(16),new m({map:i,position:{lat:_,lng:l}})}),fetch("http://localhost:3000/requests",{redirect:"error"}).then(_=>_.json()).then(_=>{I(h,N(_[0])),I(p,N(_[1])),T(h).length>0&&T(h)[0].error||T(h).forEach(l=>{console.log("myOrders",l,parseFloat(l.lat),parseFloat(l.lng)),new m({map:i,position:{lat:parseFloat(l.lat),lng:parseFloat(l.lng)},icon:{url:"https://maps.google.com/mapfiles/ms/icons/green-dot.png"}})}),T(p).length>0&&T(p)[0].error||T(p).forEach(l=>{console.log("Unfulfilled",l),new m({map:i,position:{lat:parseFloat(l.lat),lng:parseFloat(l.lng)},icon:{url:"https://maps.google.com/mapfiles/ms/icons/red-dot.png"}})})}).catch(()=>{window.location="http://localhost:3000/login"})});var o=Mt(),s=ft(o);et(s,u=>r=u,()=>r);var y=k(s,2),w=$(y);Y(w,()=>d,u=>{var e=Et(),g=$(e),F=k($(g),2),m=k($(F),2);U(m,20,()=>[1,2,3],j,(_,l)=>{var O=Ft(),C=$(O,!0);b(O),G(()=>J(C,l)),S(_,O)}),b(m),b(F),_t(2),b(g),b(e),Z(3,e,()=>H,()=>({axis:"x"})),S(u,e)}),b(y);var x=k(y,2),f=$(x);Y(f,()=>T(v),u=>{var e=zt(),g=$(e),F=k($(g),2);U(F,16,()=>[1,2,3],j,(E,A)=>{var P=Ot();S(E,P)},E=>{var A=Ct();S(E,A)}),b(g);var m=k(g,2),_=k($(m),2),l=$(_);bt(l);var O=k(l,2),C=$(O);b(O),b(_);var X=k(_,2);U(X,16,()=>[1,2,3],j,(E,A)=>{var P=St();S(E,P)},E=>{var A=qt();S(E,A)}),b(m),b(e),G(()=>J(C,`Range: ${T(c)??""}km`)),mt(l,()=>T(c),E=>I(c,E)),Z(3,e,()=>H,()=>({axis:"x"})),S(u,e)});var n=k(f,2);n.__click=[At,v],b(x),S(a,o),ut()}yt(["click"]);export{Dt as component};
