import{o as aa,_ as ta,b as ea}from"../chunks/preload-helper.DL3Oyumf.js";import{t as z,a as S}from"../chunks/disclose-version.BREFLA4z.js";import{C as U,as as ra,a8 as ia,n as M,a5 as K,a6 as W,a7 as sa,at as oa,F as na,au as la,av as da,ao as pa,b as ca,p as va,aw as L,q as I,g as T,i as fa,s as k,j as $,t as G,k as ua,l as b,a4 as _a}from"../chunks/runtime.Ct9RiEw0.js";import{a as ga,s as J}from"../chunks/render.DUobxxAF.js";import{p as N,i as Y}from"../chunks/if.Dtie_2im.js";import{s as ha,e as j,i as B,b as ma,r as ba}from"../chunks/map.OXyISxBQ.js";import{d as wa}from"../chunks/events.DKTRiInL.js";import"../chunks/entry.BHK9mrpw.js";const ya=()=>performance.now(),q={tick:t=>requestAnimationFrame(t),now:()=>ya(),tasks:new Set};function Q(t){q.tasks.forEach(a=>{a.c(t)||(q.tasks.delete(a),a.f())}),q.tasks.size!==0&&q.tick(Q)}function xa(t){let a;return q.tasks.size===0&&q.tick(Q),{promise:new Promise(r=>{q.tasks.add(a={c:t,f:r})}),abort(){q.tasks.delete(a)}}}function R(t,a){t.dispatchEvent(new CustomEvent(a))}function $a(t){if(t==="float")return"cssFloat";if(t==="offset")return"cssOffset";if(t.startsWith("--"))return t;const a=t.split("-");return a.length===1?a[0]:a[0]+a.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function V(t){const a={},r=t.split(";");for(const i of r){const[p,l]=i.split(":");if(!p||l===void 0)break;const c=$a(p.trim());a[c]=l.trim()}return a}const ka=t=>t;function Z(t,a,r,i){var p=(t&oa)!==0,l="both",c,h=a.inert,d,o;function s(){var n=sa,f=U;K(null),W(null);try{return c??(c=r()(a,(i==null?void 0:i())??{},{direction:l}))}finally{K(n),W(f)}}var w={is_global:p,in(){a.inert=h,R(a,"introstart"),d=D(a,s(),o,1,()=>{R(a,"introend"),d==null||d.abort(),d=c=void 0})},out(n){a.inert=!0,R(a,"outrostart"),o=D(a,s(),d,0,()=>{R(a,"outroend"),n==null||n()})},stop:()=>{d==null||d.abort(),o==null||o.abort()}},y=U;if((y.transitions??(y.transitions=[])).push(w),ga){var x=p;if(!x){for(var v=y.parent;v&&v.f&na;)for(;(v=v.parent)&&!(v.f&la););x=!v||(v.f&da)!==0}x&&pa(()=>{ca(()=>w.in())})}}function D(t,a,r,i,p){var l=i===1;if(ra(a)){var c,h=!1;return ia(()=>{if(!h){var f=a({direction:l?"in":"out"});c=D(t,f,r,i,p)}}),{abort:()=>{h=!0,c==null||c.abort()},deactivate:()=>c.deactivate(),reset:()=>c.reset(),t:()=>c.t()}}if(r==null||r.deactivate(),!(a!=null&&a.duration))return p(),{abort:M,deactivate:M,reset:M,t:()=>i};const{delay:d=0,css:o,tick:s,easing:w=ka}=a;var y=[];if(l&&r===void 0&&(s&&s(0,1),o)){var x=V(o(0,1));y.push(x,x)}var v=()=>1-i,n=t.animate(y,{duration:d});return n.onfinish=()=>{var f=(r==null?void 0:r.t())??1-i;r==null||r.abort();var e=i-f,g=a.duration*Math.abs(e),F=[];if(g>0){if(o)for(var m=Math.ceil(g/16.666666666666668),u=0;u<=m;u+=1){var _=f+e*w(u/m),O=o(_,1-_);F.push(V(O))}v=()=>{var C=n.currentTime;return f+e*w(C/g)},s&&xa(()=>{if(n.playState!=="running")return!1;var C=v();return s(C,1-C),!0})}n=t.animate(F,{duration:g,fill:"forwards"}),n.onfinish=()=>{v=()=>i,s==null||s(i,1-i),p()}},{abort:()=>{n&&(n.cancel(),n.effect=null,n.onfinish=M)},deactivate:()=>{p=M},reset:()=>{i===0&&(s==null||s(1,0))},t:()=>v()}}function Ta(t){const a=t-1;return a*a*a+1}function H(t,{delay:a=0,duration:r=400,easing:i=Ta,axis:p="y"}={}){const l=getComputedStyle(t),c=+l.opacity,h=p==="y"?"height":"width",d=parseFloat(l[h]),o=p==="y"?["top","bottom"]:["left","right"],s=o.map(e=>`${e[0].toUpperCase()}${e.slice(1)}`),w=parseFloat(l[`padding${s[0]}`]),y=parseFloat(l[`padding${s[1]}`]),x=parseFloat(l[`margin${s[0]}`]),v=parseFloat(l[`margin${s[1]}`]),n=parseFloat(l[`border${s[0]}Width`]),f=parseFloat(l[`border${s[1]}Width`]);return{delay:a,duration:r,easing:i,css:e=>`overflow: hidden;opacity: ${Math.min(e*20,1)*c};${h}: ${e*d}px;padding-${o[0]}: ${e*w}px;padding-${o[1]}: ${e*y}px;margin-${o[0]}: ${e*x}px;margin-${o[1]}: ${e*v}px;border-${o[0]}-width: ${e*n}px;border-${o[1]}-width: ${e*f}px;`}}var Fa=z("<li> </li>"),Ea=z('<div class="h-full w-80 space-y-8 text-nowrap bg-white p-4 shadow"><div class="space-y-2 leading-none"><h1 class="text-xl font-bold">Order #1234</h1> <div class="space-y-2 rounded bg-black/20 p-3 leading-none"><div class="space-y-1"><p>Start:</p> <p>End:</p></div> <ul class="mt-2 list-inside list-disc space-y-1 pl-2 leading-none"></ul></div> <button class="rounded bg-blue-700 p-4 text-white">Accept Order</button></div></div>'),Oa=z('<div class="space-y-1 rounded bg-blue-700 p-3 leading-none text-white"><p>Orderer:</p> <p>Start:</p> <p>End:</p></div>'),Ca=z('<p class="text-center font-bold m-3">You have no orders to fufil, <br> accept one from below</p>'),Sa=z('<div class="space-y-1 rounded bg-black/20 p-3"><p>Orderer:</p> <p>Start:</p> <p>End:</p></div>'),qa=z('<p class="text-center font-bold">No orders nearby</p>'),za=z('<div class="h-full w-80 space-y-8 overflow-y-auto text-nowrap bg-white p-4 shadow"><div class="space-y-2 leading-none"><h1 class="text-xl font-bold">My Orders</h1> <!></div> <div class="space-y-3 leading-none"><h1 class="text-xl font-bold">Suggested Orders</h1> <div><input class="w-full" type="range" min="1" max="50"> <p> </p></div> <!></div></div>'),Aa=(t,a)=>{I(a,!T(a))},Ma=z('<div class="size-full"></div> <div class="absolute inset-y-0 left-0"><!></div> <div class="absolute inset-y-0 right-0"><!> <button class="absolute left-0 top-4 -translate-x-full rounded-l bg-blue-700 p-2 text-white"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="M4 18q-.425 0-.712-.288T3 17t.288-.712T4 16h16q.425 0 .713.288T21 17t-.288.713T20 18zm0-5q-.425 0-.712-.288T3 12t.288-.712T4 11h16q.425 0 .713.288T21 12t-.288.713T20 13zm0-5q-.425 0-.712-.288T3 7t.288-.712T4 6h16q.425 0 .713.288T21 7t-.288.713T20 8z"></path></svg></button></div>',1);function Ua(t,a){va(a,!0);let r,i,p=L(10),l=!1,c=L(!1),h=L(N([])),d=L(N([]));aa(async()=>{const f=await ta(()=>import("../chunks/index.B1X_Juiv.js"),[],import.meta.url),{Loader:e}=f,g=new e({apiKey:"AIzaSyDB8EtJ3vK8gwJgTgjeNyvDLkUOYnal1GM",libraries:["maps","marker"]}),{Map:F}=await g.importLibrary("maps"),{Marker:m}=await g.importLibrary("marker");i=new F(r,{center:{lat:0,lng:0},disableDefaultUI:!0,styles:ha,zoom:1}),navigator.geolocation&&navigator.geolocation.getCurrentPosition(({coords:{latitude:u,longitude:_}})=>{i.setCenter({lat:u,lng:_}),i.setZoom(16),new m({map:i,position:{lat:u,lng:_}})}),fetch("http://localhost:3000/requests",{redirect:"error"}).then(u=>u.json()).then(u=>{I(h,N(u[0])),I(d,N(u[1])),T(h).length>0&&T(h)[0].error||T(h).forEach(_=>{new m({map:i,position:{lat:parseFloat(_.lat),lng:parseFloat(_.lng)},icon:{url:"https://maps.google.com/mapfiles/ms/icons/green-dot.png"}})}),T(d).length>0&&T(d)[0].error||T(d).forEach(_=>{new m({map:i,position:{lat:parseFloat(_.lat),lng:parseFloat(_.lng)},icon:{url:"https://maps.google.com/mapfiles/ms/icons/red-dot.png"}})})}).catch(()=>{window.location="http://localhost:3000/login"})});var o=Ma(),s=fa(o);ea(s,f=>r=f,()=>r);var w=k(s,2),y=$(w);Y(y,()=>l,f=>{var e=Ea(),g=$(e),F=k($(g),2),m=k($(F),2);j(m,20,()=>[1,2,3],B,(u,_)=>{var O=Fa(),C=$(O,!0);b(O),G(()=>J(C,_)),S(u,O)}),b(m),b(F),_a(2),b(g),b(e),Z(3,e,()=>H,()=>({axis:"x"})),S(f,e)}),b(w);var x=k(w,2),v=$(x);Y(v,()=>T(c),f=>{var e=za(),g=$(e),F=k($(g),2);j(F,16,()=>[1,2,3],B,(E,A)=>{var P=Oa();S(E,P)},E=>{var A=Ca();S(E,A)}),b(g);var m=k(g,2),u=k($(m),2),_=$(u);ba(_);var O=k(_,2),C=$(O);b(O),b(u);var X=k(u,2);j(X,16,()=>[1,2,3],B,(E,A)=>{var P=Sa();S(E,P)},E=>{var A=qa();S(E,A)}),b(m),b(e),G(()=>J(C,`Range: ${T(p)??""}km`)),ma(_,()=>T(p),E=>I(p,E)),Z(3,e,()=>H,()=>({axis:"x"})),S(f,e)});var n=k(v,2);n.__click=[Aa,c],b(x),S(t,o),ua()}wa(["click"]);export{Ua as component};
